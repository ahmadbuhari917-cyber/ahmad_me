<!DOCTYPE html>
<html lang="ha">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Addinin Musulunci - Al∆ôur'ani, Azkar & Littattafan Musulunci</title>
    <!-- Import TailwindCSS for responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Import Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Import Arabic-friendly font (optional, for better rendering) -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <style>
         body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f8ff;
            text-align: center;
        }
        .prayers {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .prayer-btn {
            background: #06c90f;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
        }
        .prayer-btn:hover {
            background: #40960f;
        }
        .next-prayer {
            margin-top: 20px;
            font-size: 18px;
        }
        /* Enhanced Custom CSS for animations and Islamic-inspired styling */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #f0f9ff, #e0f2fe);
            transition: background 0.5s ease, color 0.5s ease;
        }
        .arabic-text {
            font-family: 'Amiri', serif;
            font-size: 1.2em;
            direction: rtl;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        .bounce-in {
            animation: bounceIn 0.8s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounceIn {
            0% { transform: scale(0.1); opacity: 0; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }
        .tab-active {
            border-bottom: 3px solid #22c55e;
            color: #22c55e;
        }
        .quran-bg {
            background: linear-gradient(to right, #dcfce7, #bbf7d0);
            transition: background 0.5s ease;
        }
        .azkar-bg {
            background: linear-gradient(to right, #fef08a, #fde68a);
            transition: background 0.5s ease;
        }
        .books-bg {
            background: linear-gradient(to right, #fef3c7, #fde68a);
            transition: background 0.5s ease;
            border-radius: 1rem;
            padding: 2rem;
            margin-top: 3rem;
            box-shadow: 0 4px 15px rgba(252, 211, 77, 0.4);
            color: #92400e;
        }
        .btn-primary {
            background: #22c55e;
            color: white;
            transition: background-color 0.3s, transform 0.2s ease;
        }
        .btn-primary:hover {
            background: #16a34a;
            transform: translateY(-2px);
        }
        .btn-secondary {
            background: #f59e0b;
            color: white;
            transition: background-color 0.3s, transform 0.2s ease;
        }
        .btn-secondary:hover {
            background: #d97706;
            transform: translateY(-2px);
        }
        .counter-display {
            font-size: 2em;
            font-weight: bold;
            color: #22c55e;
            transition: color 0.3s;
        }
        .progress-bar {
            width: 0%;
            height: 10px;
            background: #22c55e;
            transition: width 0.3s;
        }
        .loading {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #22c55e;
            font-size: 1.2em;
        }
        .audio-controls {
            opacity: 0;
            transition: opacity 0.5s;
        }
        .audio-controls.show {
            opacity: 1;
        }
        .marquee {
            overflow: hidden;
            position: relative;
            white-space: nowrap;
        }
        .marquee-content {
            animation: marquee 20s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        #surah-select {
            max-height: 300px;
            overflow-y: auto;
            font-size: 1.1rem;
            font-weight: 600;
            border: 2px solid #22c55e;
            border-radius: 0.5rem;
            padding: 0.5rem;
            background: #e6ffed;
            transition: border-color 0.3s ease;
        }
        #surah-select:hover,
        #surah-select:focus {
            border-color: #16a34a;
            outline: none;
            background: #d1fae5;
        }
        #surah-select option {
            padding: 0.3rem 0.5rem;
            cursor: pointer;
        }
        #surah-select option:hover {
            background-color: #bbf7d0;
            color: #166534;
        }
        #surah-select::-webkit-scrollbar {
            width: 8px;
        }
        #surah-select::-webkit-scrollbar-track {
            background: #d1fae5;
            border-radius: 4px;
        }
        #surah-select::-webkit-scrollbar-thumb {
            background-color: #22c55e;
            border-radius: 4px;
        }
        #books-list {
            list-style: none;
            padding: 0;
            max-width: 600px;
            margin: 0 auto;
        }
        #books-list li {
            background: #fef3c7;
            margin: 0.5rem 0;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 6px rgba(202, 138, 4, 0.3);
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
        }
        #books-list li:hover {
            background-color: #fde68a;
            box-shadow: 0 4px 12px rgba(202, 138, 4, 0.6);
            color: #78350f;
        }
        #books-list li i {
            color: #b45309;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.7);
            padding-top: 60px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
            max-height: 80%;
            border-radius: 1rem;
            font-family: 'Amiri', serif;
            overflow-y: auto;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
        }
        .iframe-container {
            width: 100%;
            height: 400px;
            border: none;
            border-radius: 0.5rem;
        }
        body.dark-mode {
            background: linear-gradient(to bottom, #0f172a, #1e293b);
            color: #e2e8f0;
        }
        .quran-bg.dark-mode {
            background: linear-gradient(to right, #1f2937, #374151);
            color: #f1f5f9;
        }
        .azkar-bg.dark-mode {
            background: linear-gradient(to right, #1f2937, #374151);
            color: #f1f5f9;
        }
        .books-bg.dark-mode {
            background: linear-gradient(to right, #1f2937, #374151);
            color: #f1f5f9;
        }
        .tab {
            transition: all 0.3s;
        }
        .dropdown {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }
        .dropdown.show {
            max-height: 500px;
        }
        select {
            scrollbar-width: thin;
            scrollbar-color: #22c55e #fce7f3;
        }
        select::-webkit-scrollbar {
            width: 8px;
        }
        select::-webkit-scrollbar-thumb {
            background-color: #22c55e;
            border-radius: 4px;
        }
        .calendar {
            max-width: 500px;
            margin: 20px auto;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .calendar table {
            width: 100%;
            border-collapse: collapse;
            text-align: center;
        }
        .calendar th {
            background: #006400;
            color: white;
            padding: 8px;
        }
        .calendar td {
            padding: 8px;
            border: 1px solid #ddd;
            vertical-align: top;
            font-size: 12px;
        }
        .calendar .hijri {
            display: block;
            color: #006400;
            font-size: 10px;
        }
    </style>
</head>
<body class="bg-gray-50 p-4">
    <header class="text-center mb-8 fade-in">
        <h1 class="text-4xl font-bold text-green-700 mb-4">Addinin Musulunci</h1>
        <h2>Lokutan Sallah</h2>

        <div class="prayers">
            <!-- Prayer buttons: show standard names but include Hausa label -->
            <button class="prayer-btn" data-time="05:00">Fajr - Asuba - 05:00</button>
            <button class="prayer-btn" data-time="12:30">Dhuhr - Azahar - 12:30</button>
            <button class="prayer-btn" data-time="16:00">Asr - La'asar - 15:45</button>
            <button class="prayer-btn" data-time="18:15">Maghrib - Magrib - 18:15</button>
            <button class="prayer-btn" data-time="19:45">Isha - Isha - 19:45</button>
        </div>
        <audio id="iqamaAudio" src="sounds/iqama.mp3"></audio>

        <p>Danna kowane maballin salla don kunna sautin Iqama</p>

        <div class="next-prayer" id="nextPrayer">Sallah ta gaba: --:--</div>
        <p class="text-lg text-gray-600 dark:text-gray-300">Karanta Al∆ôur'ani, lura da Azkar, kuma bincika Littattafan Musulunci</p>
        <div class="marquee text-sm mt-2">
            <span class="marquee-content">Ka tuna Allah akai-akai ‚Äî nema ilimi ‚Äî ka yi abin da ya dace... Ka tuna Allah akai-akai ‚Äî nema ilimi ‚Äî ka yi abin da ya dace...</span>
        </div>
        <button id="theme-toggle" class="mt-4 btn-primary px-4 py-2 rounded">
            <i class="fas fa-moon"></i> Sauya Yanayin (Dark/Light)
        </button>
    </header>

    <!-- Calendar -->
    <div id="calendar" class="calendar"></div>

    <!-- Hijri Date -->
    <p id="hijri-date" class="mt-2 text-green-600 font-semibold"></p>

    <nav class="flex justify-center mb-8">
        <button class="tab tab-active px-6 py-2 font-medium" id="quran-tab" onclick="showSection('quran')">Karatun Al∆ôur'ani</button>
        <button class="tab px-6 py-2 font-medium" id="azkar-tab" onclick="showSection('azkar')">Mai ∆ôididdigar Azkar</button>
        <button class="tab px-6 py-2 font-medium" id="books-tab" onclick="showSection('books')">Littattafan Musulunci</button>
    </nav>

    <!-- Quran Recitation Section -->
    <section id="quran-section" class="quran-bg p-6 rounded-lg shadow-lg fade-in">
        <h2 class="text-2xl font-bold mb-4 text-green-800">Karatun Al∆ôur'ani</h2>
        <div class="mb-4">
            <label for="surah-select" class="block mb-2 font-medium">Za…ìi Surah:</label>
            <select id="surah-select" size="20" aria-label="Za…ìi Surah" class="w-full p-2 border rounded" style="max-height: 300px; overflow-y: auto; font-size: 1.1rem; font-weight: 600; border: 2px solid #22c55e; background: #e6ffed;">
  <option value="1">Al-FƒÅti·∏•ah (The Opening)</option>
  <option value="2">Al-Baqarah (The Cow)</option>
  <option value="3">ƒÄl- øImrƒÅn (The Family of Imran)</option>
  <option value="4">An-NisƒÅ æ (The Women)</option>
  <option value="5">Al-MƒÅ æidah (The Table Spread)</option>
  <option value="6">Al-An øƒÅm (The Cattle)</option>
  <option value="7">Al-A ørƒÅf (The Heights)</option>
  <option value="8">Al-AnfƒÅl (The Spoils of War)</option>
  <option value="9">At-Tawbah (The Repentance)</option>
  <option value="10">Y≈´nus (Jonah)</option>
  <option value="11">H≈´d (Hud)</option>
  <option value="12">Y≈´suf (Joseph)</option>
  <option value="13">Ar-Ra ød (The Thunder)</option>
  <option value="14">IbrƒÅhƒ´m (Abraham)</option>
  <option value="15">Al-·∏§ijr (The Rocky Tract)</option>
  <option value="16">An-Na·∏•l (The Bee)</option>
  <option value="17">Al-IsrƒÅ æ / Banƒ´ IsrƒÅ æƒ´l (The Night Journey / The Children of Israel)</option>
  <option value="18">Al-Kahf (The Cave)</option>
  <option value="19">Maryam (Mary)</option>
  <option value="20">·π¨ƒÅ HƒÅ (·π¨ƒÅ HƒÅ)</option>
  <option value="21">Al-AnbiyƒÅ æ (The Prophets)</option>
  <option value="22">Al-·∏§ajj (The Pilgrimage)</option>
  <option value="23">Al-Mu æmin≈´n (The Believers)</option>
  <option value="24">An-N≈´r (The Light)</option>
  <option value="25">Al-FurqƒÅn (The Criterion)</option>
  <option value="26">Ash-Shu øarƒÅ æ (The Poets)</option>
  <option value="27">An-Naml (The Ant)</option>
  <option value="28">Al-Qa·π£a·π£ (The Stories)</option>
  <option value="29">Al- øAnkab≈´t (The Spider)</option>
  <option value="30">Ar-R≈´m (The Romans)</option>
  <option value="31">LuqmƒÅn (Luqman)</option>
  <option value="32">As-Sajdah (The Prostration)</option>
  <option value="33">Al-A·∏•zƒÅb (The Confederates)</option>
  <option value="34">Saba æ (Sheba)</option>
  <option value="35">FƒÅ·π≠ir (The Originator)</option>
  <option value="36">YƒÅ Sƒ´n (Yaseen)</option>
  <option value="37">As-·π¢ƒÅffƒÅt (Those Who Set the Ranks)</option>
  <option value="38">·π¢ƒÅd (Sad)</option>
  <option value="39">Az-Zumar (The Groups)</option>
  <option value="40">GhƒÅfir (The Forgiver)</option>
  <option value="41">Fu·π£·π£ilat (Explained in Detail)</option>
  <option value="42">Ash-Sh≈´rƒÅ (Consultation)</option>
  <option value="43">Az-Zukhruf (The Gold Adornments)</option>
  <option value="44">Ad-DukhƒÅn (The Smoke)</option>
  <option value="45">Al-JƒÅthiyah (The Kneeling)</option>
  <option value="46">Al-A·∏•qƒÅf (The Wind-Curved Sandhills)</option>
  <option value="47">Mu·∏•ammad (Muhammad)</option>
  <option value="48">Al-Fat·∏• (The Victory)</option>
  <option value="49">Al-·∏§ujurƒÅt (The Rooms)</option>
  <option value="50">QƒÅf (Qaf)</option>
  <option value="51">Adh-DhƒÅriyƒÅt (The Winnowing Winds)</option>
  <option value="52">A·π≠-·π¨≈´r (The Mount)</option>
  <option value="53">An-Najm (The Star)</option>
  <option value="54">Al-Qamar (The Moon)</option>
  <option value="55">Ar-Ra·∏•mƒÅn (The Most Merciful)</option>
  <option value="56">Al-WƒÅqi øah (The Inevitable)</option>
  <option value="57">Al-·∏§adƒ´d (The Iron)</option>
  <option value="58">Al-MujƒÅdilah (The Pleading Woman)</option>
  <option value="59">Al-·∏§ashr (The Exile)</option>
  <option value="60">Al-Mumta·∏•anah (She That Is To Be Examined)</option>
  <option value="61">A·π£-·π¢aff (The Ranks)</option>
  <option value="62">Al-Jumu øah (The Friday Congregation)</option>
  <option value="63">Al-MunƒÅfiq≈´n (The Hypocrites)</option>
  <option value="64">At-TaghƒÅbun (The Mutual Disillusion)</option>
  <option value="65">At-·π¨alƒÅq (The Divorce)</option>
  <option value="66">At-Ta·∏•rƒ´m (The Prohibition)</option>
  <option value="67">Al-Mulk (The Sovereignty)</option>
  <option value="68">Al-Qalam (The Pen)</option>
  <option value="69">Al-·∏§ƒÅqqah (The Inevitable Reality)</option>
  <option value="70">Al-Ma øƒÅrij (The Ascending Stairways)</option>
  <option value="71">N≈´·∏• (Noah)</option>
  <option value="72">Al-Jinn (The Jinn)</option>
  <option value="73">Al-Muzzammil (The Enshrouded One)</option>
  <option value="74">Al-Muddaththir (The Cloaked One)</option>
  <option value="75">Al-QiyƒÅmah (The Resurrection)</option>
  <option value="76">Al-InsƒÅn / Ad-Dahr (Man / Time)</option>
  <option value="77">Al-MursalƒÅt (The Emissaries)</option>
  <option value="78">An-Naba æ (The Tidings)</option>
  <option value="79">An-NƒÅzi øƒÅt (Those Who Drag Forth)</option>
  <option value="80"> øAbasa (He Frowned)</option>
  <option value="81">At-Takwƒ´r (The Overthrowing)</option>
  <option value="82">Al-Infi·π≠ƒÅr (The Splitting)</option>
  <option value="83">Al-Mu·π≠affifƒ´n (Defrauding)</option>
  <option value="84">Al-InshiqƒÅq (The Splitting Asunder)</option>
  <option value="85">Al-Bur≈´j (The Mansions of the Stars)</option>
  <option value="86">A·π≠-·π¨ƒÅriq (The Morning Star)</option>
  <option value="87">Al-A ølƒÅ (The Most High)</option>
  <option value="88">Al-GhƒÅshiyah (The Overwhelming)</option>
  <option value="89">Al-Fajr (The Dawn)</option>
  <option value="90">Al-Balad (The City)</option>
  <option value="91">Ash-Shams (The Sun)</option>
  <option value="92">Al-Layl (The Night)</option>
  <option value="93">A·∏ç-·∏åu·∏•ƒÅ (The Morning Hours)</option>
  <option value="94">Ash-Shar·∏• (The Relief / The Expansion)</option>
  <option value="95">At-Tƒ´n (The Fig)</option>
  <option value="96">Al- øAlaq (The Clot)</option>
  <option value="97">Al-Qadr (The Power / Destiny)</option>
  <option value="98">Al-Bayyinah (The Clear Proof)</option>
  <option value="99">Az-Zalzalah (The Earthquake)</option>
  <option value="100">Al- øƒÄdiyƒÅt (The Courser)</option>
  <option value="101">Al-QƒÅri øah (The Striking Calamity)</option>
  <option value="102">At-TakƒÅthur (Rivalry in Worldly Increase)</option>
  <option value="103">Al- øA·π£r (The Declining Day / Time)</option>
  <option value="104">Al-Humazah (The Slanderer)</option>
  <option value="105">Al-Fƒ´l (The Elephant)</option>
  <option value="106">Quraysh (Quraish)</option>
  <option value="107">Al-MƒÅ ø≈´n (Small Kindnesses)</option>
  <option value="108">Al-Kawthar (Abundance)</option>
  <option value="109">Al-KƒÅfir≈´n (The Disbelievers)</option>
  <option value="110">An-Na·π£r (The Divine Support)</option>
  <option value="111">Al-Masad (The Palm Fiber / The Flame)</option>
  <option value="112">Al-IkhlƒÅ·π£ (The Sincerity)</option>
  <option value="113">Al-Falaq (The Daybreak)</option>
  <option value="114">An-NƒÅs (Mankind)</option>
</select>
        </div>
        <div class="loading" id="audio-loading"><i class="fas fa-spinner fa-spin"></i> Ana loda sauti...</div>
        <audio id="quran-audio" controls preload="none" class="w-full audio-controls">
            Bukatar taimako: burauzarka ba ta goyi bayan tag na audio ba.
        </audio>
        <div class="mt-2" id="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="mt-4 text-center">
            <button id="play-paused" class="btn-primary px-6 py-2 rounded mr-2" onclick="togglePlay()"><i class="fas fa-play"></i> Ji</button>
            <button class="btn-secondary px-6 py-2 rounded mr-2" onclick="nextSurah()"><i class="fas fa-step-forward"></i> Na gaba</button>
            <button class="px-6 py-2 border rounded" onclick="resetAudio()"><i class="fas fa-redo"></i> Sake saitawa</button>
        </div>
        <p class="mt-4 text-sm text-gray-600">Sauti daga Abdul Basit Abdul Samad (don amfani na ilimi).</p>
    </section>

    <!-- Azkar Counter Section -->
    <section id="azkar-section" class="azkar-bg p-6 rounded-lg shadow-lg bounce-in" style="display:none;">
        <h2 class="text-2xl font-bold mb-4 text-yellow-800">Mai ∆ôididdigar Azkar</h2>
        <div class="mb-4">
            <label for="azkar-select" class="block mb-2 font-medium">Za…ìi Azkar:</label>
            <select id="azkar-select" class="w-full p-2 border rounded dropdown">
                <option value="">Za…ìi Azkar...</option>
                <option value="subhanallah">ÿ≥ÿ®ÿ≠ÿßŸÜ ÿßŸÑŸÑŸá (Subhanallah)</option>
                <option value="alhamdulillah">ÿßŸÑÿ≠ŸÖÿØ ŸÑŸÑŸá (Alhamdulillah)</option>
                <option value="allahakbar">ÿßŸÑŸÑŸá ÿ£ŸÉÿ®ÿ± (Allahu Akbar)</option>
                <option value="astaghfirullah">ÿ£ÿ≥ÿ™ÿ∫ŸÅÿ± ÿßŸÑŸÑŸá (Astaghfirullah)</option>
                <option value="laillahaillallah">ŸÑÿß ÿ•ŸÑŸá ÿ•ŸÑÿß ÿßŸÑŸÑŸá (La Ilaha Illallah)</option>
                <option value="ihenusmulallaahi">ÿ£ÿ≠ÿ≥ŸÜÿ™ Ÿàÿ£ÿ¨ŸÖŸÑÿ™ (Ihsenus Mumallaahi)</option>
            </select>
        </div>
        <div class="text-center mb-4">
            <span id="azkar-text" class="arabic-text block mb-2"></span>
            <div class="counter-display" id="counter">0</div>
            <div class="mt-2">
                <input type="range" id="target-slider" min="1" max="100" value="33" onchange="setTarget(this.value)">
                <div id="target-display" class="text-sm">Manufa: 33</div>
            </div>
        </div>
        <div class="text-center">
            <button class="btn-primary px-6 py-2 rounded mr-2" onclick="incrementCounter()"><i class="fas fa-plus"></i> ∆òirga</button>
            <button class="px-6 py-2 border rounded mr-2" onclick="saveProgress()"><i class="fas fa-save"></i> Ajiye</button>
            <button class="px-6 py-2 border rounded" onclick="resetCounter()"><i class="fas fa-redo"></i> Sake saiti</button>
        </div>
        <p id="history" class="mt-4 text-sm"></p>
    </section>

    <!-- Islamic Books Section -->
    <section id="books-section" class="books-bg fade-in" style="display:none;">
        <h3 class="text-2rem font-bold mb-4 text-center text-brown-800">Muhimman Littattafan Musulunci</h3>
        <ul id="books-list">
            <li onclick="showBookModal('quran')">
                <span><i class="fas fa-book-open"></i> ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ (Al∆ôur'ani Mai Girma)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('quran', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('bukhari')">
                <span><i class="fas fa-scroll"></i> ÿµÿ≠Ÿäÿ≠ ÿßŸÑÿ®ÿÆÿßÿ±Ÿä (Sahih al-Bukhari)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('bukhari', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('muslim')">
                <span><i class="fas fa-scroll"></i> ÿµÿ≠Ÿäÿ≠ ŸÖÿ≥ŸÑŸÖ (Sahih Muslim)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('muslim', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('riyadh')">
                <span><i class="fas fa-scroll"></i> ÿ±Ÿäÿßÿ∂ ÿßŸÑÿµÿßŸÑÿ≠ŸäŸÜ (Riyadh as-Salihin)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('riyadh', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('tafsir')">
                <span><i class="fas fa-scroll"></i> ÿ™ŸÅÿ≥Ÿäÿ± ÿßÿ®ŸÜ ŸÉÿ´Ÿäÿ± (Tafsir Ibn Kathir)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('tafsir', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('arbaeen')">
                <span><i class="fas fa-scroll"></i> ÿßŸÑÿ£ÿ±ÿ®ÿπŸàŸÜ ÿßŸÑŸÜŸàŸàŸäÿ© (Al-Arba'in An-Nawawiyyah)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('arbaeen', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('fiqh')">
                <span><i class="fas fa-scroll"></i> ŸÅŸÇŸá ÿßŸÑÿ≥ŸÜÿ© (Fiqh as-Sunnah)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('fiqh', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('ihya')">
                <span><i class="fas fa-scroll"></i> ÿ•ÿ≠Ÿäÿßÿ° ÿπŸÑŸàŸÖ ÿßŸÑÿØŸäŸÜ (Ihya Ulum al-Din)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('ihya', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('seerah')">
                <span><i class="fas fa-scroll"></i> ÿßŸÑÿ≥Ÿäÿ±ÿ© ÿßŸÑŸÜÿ®ŸàŸäÿ© (Seerah of the Prophet Muhammad Ô∑∫)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('seerah', event)">Karanta Yanzu</button>
            </li>
            <li onclick="showBookModal('zad')">
                <span><i class="fas fa-scroll"></i> ÿ≤ÿßÿØ ÿßŸÑŸÖÿπÿßÿØ (Zad al-Ma'ad)</span>
                <button class="btn-primary px-4 py-2 rounded" onclick="readBook('zad', event)">Karanta Yanzu</button>
            </li>
        </ul>
        <div id="book-modal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h4 id="modal-title" class="text-xl font-bold mb-4"></h4>
                <p id="modal-description" class="mb-4"></p>
                <div id="reading-pane" class="mb-4">
                    <!-- Dynamic content for reading the book -->
                </div>
                <div class="mt-4">
                    <button onclick="closeModal()" class="btn-secondary px-6 py-2 rounded mr-2">Rufe</button>
                </div>
            </div>
        </div>
    </section>

    <footer class="text-center mt-8 text-gray-500">
        <p>¬© 2025 Addinin Musulunci. Don dalilai na ilmantarwa. Allah ya kar…ìa addu'o'inmu. Amin.</p>
    </footer>
    

    <script>
        const audio = document.getElementById('iqamaAudio');
        const buttons = document.querySelectorAll('.prayer-btn');
        const nextPrayerEl = document.getElementById('nextPrayer');

        // Convert prayer times to minutes
        const prayerTimes = Array.from(buttons).map(btn => {
          const [hour, min] = btn.dataset.time.split(':').map(Number);
          return { name: btn.textContent.split(' - ')[0], hour, min, element: btn };
        });

        // Play audio manually
        buttons.forEach(btn => {
            btn.addEventListener('click', () => {
                audio.play().catch(()=>{/* may be blocked until user interacts with page */});
                alert(`${btn.textContent.split(' - ')[0]} an kunna agogo!`);
            });
        });

        // Find next prayer
        function getNextPrayer() {
            const now = new Date();
            const nowMinutes = now.getHours() * 60 + now.getMinutes();

            for (let p of prayerTimes) {
                const prayerMinutes = p.hour * 60 + p.min;
                if (prayerMinutes > nowMinutes) return p;
            }
            // If all prayers passed, return first prayer of next day
            return prayerTimes[0];
        }

        // Update next prayer countdown
        function updateNextPrayer() {
            const now = new Date();
            const next = getNextPrayer();
            const nextDate = new Date();
            nextDate.setHours(next.hour, next.min, 0, 0);

            if (nextDate < now) nextDate.setDate(nextDate.getDate() + 1);

            const diff = nextDate - now;
            const hours = Math.floor(diff / 1000 / 60 / 60);
            const minutes = Math.floor((diff / 1000 / 60) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            nextPrayerEl.textContent = `Sallah ta gaba: ${next.name} cikin ${hours}h ${minutes}m ${seconds}s`;

            // Play sound exactly at prayer time
            if (diff < 1000 && diff > 0) {
                audio.play().catch(()=>{});
                alert(`Lokacin sallah ya yi: ${next.name}`);
            }
        }

        // Update every second
        setInterval(updateNextPrayer, 1000);

        // Enhanced Variables and State Management
        let currentAudio = document.getElementById('quran-audio');
        let isPlaying = false;
        let azkarCount = 0;
        let azkarTarget = 33;
        let selectedAzkar = '';
        let currentSurah = 0;
        const historyList = [];
        const savedCounts = JSON.parse(localStorage.getItem('azkarCounts')) || {};
        let selectedBook = '';

        // Toggle dark mode
        document.getElementById('theme-toggle').addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const azkarSec = document.getElementById('azkar-section');
            const quranSec = document.getElementById('quran-section');
            const booksSec = document.getElementById('books-section');
            azkarSec.classList.toggle('dark-mode');
            quranSec.classList.toggle('dark-mode');
            booksSec.classList.toggle('dark-mode');
        });

        // Show sections with animation
        function showSection(section) {
            const quranTab = document.getElementById('quran-tab');
            const azkarTab = document.getElementById('azkar-tab');
            const booksTab = document.getElementById('books-tab');
            const quranSec = document.getElementById('quran-section');
            const azkarSec = document.getElementById('azkar-section');
            const booksSec = document.getElementById('books-section');

            [quranTab, azkarTab, booksTab].forEach(tab => tab.classList.remove('tab-active'));
            [quranSec, azkarSec, booksSec].forEach(sec => sec.style.display = 'none');

            if (section === 'quran') {
                quranSec.style.display = 'block';
                quranTab.classList.add('tab-active');
            } else if (section === 'azkar') {
                azkarSec.style.display = 'block';
                azkarTab.classList.add('tab-active');
            } else if (section === 'books') {
                booksSec.style.display = 'block';
                booksTab.classList.add('tab-active');
            }
        }

        // Quran functions with loading and error handling
        document.getElementById('surah-select').addEventListener('change', (e) => {
            const surahNumber = e.target.value;
            if (!surahNumber) return;
            currentSurah = parseInt(surahNumber);
            const loading = document.getElementById('audio-loading');
            const controls = document.querySelector('.audio-controls');
            loading.style.display = 'block';
            controls.classList.remove('show');
            currentAudio.src = `https://cdn.islamic.network/quran/audio-surah/128/ar.alafasy/${surahNumber}.mp3`;
            currentAudio.load();
            currentAudio.onloadeddata = () => {
                loading.style.display = 'none';
                controls.classList.add('show');
            };
            currentAudio.onerror = () => {
                loading.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Ba a iya loda sautin ba.';
                setTimeout(() => loading.style.display = 'none', 3000);
            };
        });

        // Progress bar update
        currentAudio.ontimeupdate = () => {
            const progressBar = document.getElementById('progress-bar');
            const percentage = (currentAudio.currentTime / currentAudio.duration) * 100;
            progressBar.style.width = isFinite(percentage) ? (percentage + '%') : '0%';
        };

        function togglePlay() {
            if (isPlaying) {
                currentAudio.pause();
                document.getElementById('play-paused').innerHTML = '<i class="fas fa-play"></i> Ji';
            } else {
                currentAudio.play().catch(()=>{});
                document.getElementById('play-paused').innerHTML = '<i class="fas fa-pause"></i> Dakata';
            }
            isPlaying = !isPlaying;
        }

        function resetAudio() {
            currentAudio.currentTime = 0;
            currentAudio.pause();
            document.getElementById('play-paused').innerHTML = '<i class="fas fa-play"></i> Ji';
            document.getElementById('progress-bar').style.width = '0%';
            isPlaying = false;
        }

        function nextSurah() {
            if (currentSurah < 114) {
                currentSurah++;
                const select = document.getElementById('surah-select');
                select.value = currentSurah.toString();
                select.dispatchEvent(new Event('change'));
            } else {
                alert('Ka kai ga Surah ta ∆ôarshe!');
            }
        }

        // Azkar functions with persistence and advanced features
        document.getElementById('azkar-select').addEventListener('change', (e) => {
            selectedAzkar = e.target.value;
            if (selectedAzkar && savedCounts[selectedAzkar]) {
                azkarCount = savedCounts[selectedAzkar] || 0;
            } else {
                azkarCount = 0;
            }
            document.getElementById('azkar-text').textContent = e.target.options[e.target.selectedIndex].textContent;
            document.getElementById('counter').textContent = azkarCount;
            document.getElementById('history').textContent = `Tarihi: ${historyList.slice(-3).join(', ')}`;
        });

        function setTarget(value) {
            azkarTarget = parseInt(value);
            document.getElementById('target-display').textContent = `Manufa: ${azkarTarget}`;
        }

        function incrementCounter() {
            if (!selectedAzkar) {
                alert('Don Allah, za…ìi Azkar kafin ka fara.');
                return;
            }
            azkarCount++;
            if (azkarCount >= azkarTarget) {
                showCongrats();
            }
            document.getElementById('counter').textContent = azkarCount;
            historyList.push(`${selectedAzkar}: ${azkarCount}`);
            savedCounts[selectedAzkar] = azkarCount;
            localStorage.setItem('azkarCounts', JSON.stringify(savedCounts));
            document.getElementById('history').textContent = `Tarihi: ${historyList.slice(-3).join(', ')}`;
        }

        function resetCounter() {
            azkarCount = 0;
            document.getElementById('counter').textContent = azkarCount;
            savedCounts[selectedAzkar] = 0;
            localStorage.setItem('azkarCounts', JSON.stringify(savedCounts));
            document.getElementById('history').textContent = 'Tarihi: An sake saiti.';
            historyList.length = 0;
        }

        function saveProgress() {
            savedCounts[selectedAzkar] = azkarCount;
            localStorage.setItem('azkarCounts', JSON.stringify(savedCounts));
            alert('An adana cigaba!');
        }

        function showCongrats() {
            const congrats = document.createElement('div');
            congrats.innerHTML = '<i class="fas fa-star"></i> Murna! An kai ga manufar. Albarka!';
            congrats.className = 'fixed top-10 right-10 bg-green-500 text-white p-4 rounded-lg shadow-lg animate-bounce';
            document.body.appendChild(congrats);
            setTimeout(() => {
                congrats.remove();
            }, 5000);
        }

        // Books JavaScript functionality
        const bookData = {
            quran: {
                title: 'ÿßŸÑŸÇÿ±ÿ¢ŸÜ ÿßŸÑŸÉÿ±ŸäŸÖ (Al∆ôur\'ani Mai Girma)',
                description: 'Al∆ôur\'ani shine littafi mafi muhimmanci ga Musulmai kuma shi ne kalmar Allah (SWT) da aka saukar wa Manzon Allah (SAW).',
                readLink: 'https://quran.com/'
            },
            bukhari: {
                title: 'ÿµÿ≠Ÿäÿ≠ ÿßŸÑÿ®ÿÆÿßÿ±Ÿä (Sahih al-Bukhari)',
                description: 'Daya daga cikin manyan tarin Hadisi, an tattara shi daga Imam Bukhari.',
                readLink: 'https://sunnah.com/bukhari'
            },
            muslim: {
                title: 'ÿµÿ≠Ÿäÿ≠ ŸÖÿ≥ŸÑŸÖ (Sahih Muslim)',
                description: 'Wani muhimmin tarin Hadisi, an tattara shi daga Imam Muslim.',
                readLink: 'https://sunnah.com/muslim'
            },
            riyadh: {
                title: 'ÿ±Ÿäÿßÿ∂ ÿßŸÑÿµÿßŸÑÿ≠ŸäŸÜ (Riyadh as-Salihin)',
                description: 'Tarihin Hadisi da ya fi mayar da hankali kan kyawawan ayyuka.',
                readLink: 'https://sunnah.com/riyadussalihin'
            },
            tafsir: {
                title: 'ÿ™ŸÅÿ≥Ÿäÿ± ÿßÿ®ŸÜ ŸÉÿ´Ÿäÿ± (Tafsir Ibn Kathir)',
                description: 'Sharhin Al∆ôur\'ani daga Ibn Kathir.',
                readLink: 'https://www.al-islam.org/tafsir-muslims/tafsir-al-kathir'
            },
            arbaeen: {
                title: 'ÿßŸÑÿ£ÿ±ÿ®ÿπŸàŸÜ ÿßŸÑŸÜŸàŸàŸäÿ© (Al-Arba\'in An-Nawawiyyah)',
                description: 'Za…ìa…ì…ìun Hadisi arba\'in daga Imam An-Nawawi.',
                readLink: 'https://sunnah.com/nawawi40'
            },
            fiqh: {
                title: 'ŸÅŸÇŸá ÿßŸÑÿ≥ŸÜÿ© (Fiqh as-Sunnah)',
                description: 'Littafi akan ilmin fiqh bisa ga Sunnah.',
                readLink: 'https://www.islamicfinder.org/books/fiqh-as-sunnah/'
            },
            ihya: {
                title: 'ÿ•ÿ≠Ÿäÿßÿ° ÿπŸÑŸàŸÖ ÿßŸÑÿØŸäŸÜ (Ihya Ulum al-Din)',
                description: 'Aikin Imam Al-Ghazali kan ilimin addini.',
                readLink: 'https://alghazali.org/library/ihya/'
            },
            seerah: {
                title: 'ÿßŸÑÿ≥Ÿäÿ±ÿ© ÿßŸÑŸÜÿ®ŸàŸäÿ© (Seerah of the Prophet Muhammad Ô∑∫)',
                description: 'Tarin tarihin rayuwar Annabi Muhammad (SAW).',
                readLink: 'https://www.islamonline.net/seerah/'
            },
            zad: {
                title: 'ÿ≤ÿßÿØ ÿßŸÑŸÖÿπÿßÿØ (Zad al-Ma\'ad)',
                description: 'Tarihin rayuwar Annabi da bayanai daga Ibn Qayyim.',
                readLink: 'https://www.islamicfinder.org/books/zad-ul-maad/'
            }
        };

        function showBookModal(bookId) {
            // Prevent event bubbling for click on li but allow for buttons
        }

        function closeModal() {
            document.getElementById('book-modal').style.display = 'none';
        }

        function readBook(bookId, event) {
            event.stopPropagation(); // Prevent triggering li click
            const book = bookData[bookId];
            if (!book) return;
            selectedBook = bookId;
            document.getElementById('modal-title').textContent = book.title;
            document.getElementById('modal-description').textContent = book.description;
            const readingPane = document.getElementById('reading-pane');
            readingPane.innerHTML = `
                <iframe class="iframe-container" src="${book.readLink}" allowfullscreen></iframe>
                <p class="mt-2 text-sm">Idan ba a loda abun ba, zaka iya <a href="${book.readLink}" target="_blank" class="text-blue-500 underline">bu…óe shi a sabon shafin</a>.</p>
            `;
            document.getElementById('book-modal').style.display = 'block';
        }

        // On load, check for saved counts
        Object.keys(savedCounts).forEach(azkar => {
            document.getElementById('azkar-select').innerHTML += `<option value="${azkar}">An ajiye: ${azkar}</option>`;
        });

        // Click outside modal to close
        window.onclick = function(event) {
            if (event.target === document.getElementById('book-modal')) {
                closeModal();
            }
        };
    </script>

 <!-- Hijri Date Script -->
<script>
async function loadHijriDate() {
    try {
        // Format today's date in dd-mm-yyyy
        const today = new Date();
        const day = String(today.getDate()).padStart(2, '0');
        const month = String(today.getMonth() + 1).padStart(2, '0');
        const year = today.getFullYear();
        const formattedDate = `${day}-${month}-${year}`;

        // Fetch Hijri date from Aladhan API
        const response = await fetch(`https://api.aladhan.com/v1/gToH?date=${formattedDate}`);
        const data = await response.json();

        const hijri = data.data.hijri;
        const gregorian = data.data.gregorian;

        // Display both Gregorian and Hijri dates in Hausa
        const displayText = `üìÖ ${gregorian.weekday.en}, ${gregorian.date} / üïå ${hijri.day} ${hijri.month.en} ${hijri.year} AH`;
        document.getElementById("hijri-date").textContent = displayText;
    } catch (error) {
        console.error("Hijri API error:", error);
        document.getElementById("hijri-date").textContent = "Ranar Hijri ba ta samu ba";
    }
}

// Run immediately
loadHijriDate();

// Refresh date every 24 hours
setInterval(loadHijriDate, 24 * 60 * 60 * 1000);
</script>

</body>
</html>

